<!DOCTYPE html>
<html lang = "en">
<head>
	<meta charset = "utf-8"/>
	<meta name = "viewport" content = "width=device-width, initial-scale=1.0"/>
	<title>@ViewData["Title"]</title>
	<link rel = "stylesheet" href = "~/lib/bootstrap/dist/css/bootstrap.min.css"/>
	<link rel = "stylesheet" href = "https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css"/>
	<link rel = "stylesheet" href = "~/css/site.css" asp-append-version = "true"/>
	<link rel = "stylesheet" href = "~/Andrei_Mikhaleu_Task1.styles.css" asp-append-version = "true"/>
	<script src = "~/lib/jquery/dist/jquery.min.js"></script>
	<script src = "~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
	<script src = "~/js/site.js" asp-append-version = "true"></script>
	<script type = "text/javascript" src = "https://www.gstatic.com/charts/loader.js"></script>
	<script src = "https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.5.1.min.js"></script>
	<script src = "https://ajax.aspnetcdn.com/ajax/jquery.validate/1.17.0/jquery.validate.min.js"></script>
	<script src = "https://ajax.aspnetcdn.com/ajax/jquery.validation.unobtrusive/3.2.10/jquery.validate.unobtrusive.min.js"></script>
</head>
<body>
<header>
	<nav class = "navbar navbar-expand-sm navbar-toggleable-sm border-bottom box-shadow mb-3 tp-gradient-standard">
		<div class = "container-fluid">
			<a class = "navbar-brand fs-5" asp-area = "" asp-controller = "Home" asp-action = "Index">Planyourtrip.com - plan your trips with us</a>
			<button class = "navbar-toggler" type = "button" data-bs-toggle = "collapse" data-bs-target = ".navbar-collapse" aria-controls = "navbarSupportedContent" aria-expanded = "false" aria-label = "Toggle navigation">
				<span class = "navbar-toggler-icon"></span>
			</button>
			<div class = "navbar-collapse collapse d-sm-inline-flex justify-content-between">
				<ul class = "navbar-nav flex-grow-1">
					<li class = "nav-item dropdown">
						<a class = "nav-link dropdown-toggle fs-5" href = "#" id = "navbarDropdown" role = "button" data-bs-toggle = "dropdown" aria-expanded = "false">Main Menu</a>
						<ul class = "dropdown-menu tp-gradient-standard fs-5" aria-labelledby = "navbarDropdown">
							<li>
								<a class = "dropdown-item" asp-area = "" asp-controller = "Home" asp-action = "Index">Home</a>
							</li>
							<li>
								<hr class = "dropdown-divider">
							</li>
							<li>
								<a class = "dropdown-item" asp-area = "" asp-controller = "Trips" asp-action = "Create">New trip</a>
							</li>
							<li>
								<hr class = "dropdown-divider">
							</li>
							<li>
								<a class = "dropdown-item" asp-area = "" asp-controller = "Trips" asp-action = "Index">My trips</a>
							</li>
							<li>
								<hr class = "dropdown-divider">
							</li>
							<li>
								<a class = "dropdown-item" asp-area = "" asp-controller = "Trips" asp-action = "History">History</a>
							</li>
							<li>
								<hr class = "dropdown-divider">
							</li>
							<li>
								<a class = "dropdown-item" asp-area = "" asp-controller = "Statistics" asp-action = "HeatMap">Heatmap of my trips</a>
							</li>
							<li>
								<hr class = "dropdown-divider">
							</li>
							<li>
								<a class = "dropdown-item" asp-area = "" asp-controller = "Statistics" asp-action = "TotalDuration">Total duration of my trips</a>
							</li>
							<li>
								<hr class = "dropdown-divider">
							</li>
							<li>
								<a class = "dropdown-item" asp-area = "" asp-controller = "Trips" asp-action = "Public">Trips of others</a>
							</li>
						</ul>
					</li>
					<li class = "fs-5">
						<a class = "nav-link" asp-area = "" asp-controller = "Drivers" asp-action = "Index">Our drivers</a>
					</li>
				</ul>
				@{
					string? userName = ViewContext?.HttpContext?.User?.Identity?.Name;
					if (userName != null) {
						<div class = "nav-item dropdown mr-50 fs-5">
							<a class = "nav-link dropdown-toggle" href = "#" id = "navbarDropdown-1" role = "button" data-bs-toggle = "dropdown" aria-expanded = "false">@($"Welcome back, {userName}!")</a>
							<ul class = "dropdown-menu tp-gradient-standard" aria-labelledby = "navbarDropdown-1">
								<li>
									<a class = "dropdown-item" asp-area = "" asp-controller = "Account" asp-action = "Logout">Log Out</a>
								</li>
							</ul>
						</div>
					} else {
						<div class = "nav-item dropdown mr-50 fs-5">
							<a class = "nav-link dropdown-toggle" href = "#" id = "navbarDropdown-1" role = "button" data-bs-toggle = "dropdown" aria-expanded = "false">Account</a>
							<ul class = "dropdown-menu tp-gradient-standard fs-5" aria-labelledby = "navbarDropdown-1">
								<li >
									<a class = "dropdown-item" asp-area = "" asp-controller = "Account" asp-action = "Login">Log In</a>
								</li>
								<li>
									<hr class = "dropdown-divider">
								</li>
								<li>
									<a class = "dropdown-item" asp-area = "" asp-controller = "Account" asp-action = "Register">Sign Up</a>
								</li>
							</ul>
						</div>
					}
				}
			</div>
		</div>
	</nav>
</header>
<div class = "container">
	<main role = "main" class = "pb-3">@RenderBody()</main>
</div>
<footer class = "border-top footer tp-gradient-standard text-muted">
	<div class = "container">&copy; 2023 - Planyourtrip.com</div>
</footer>
@await RenderSectionAsync("Scripts", false)
</body>
</html>
